{% extends 'base/base.html' %}


{% block title %}
  Bookings - Parking Lots
{% endblock %}

{% block pageBanner %}
  Bookings - Lot {{ bay.lot.lot_number }} Bay {{ bay.bay_number }}
{% endblock %}


{% block content %}

<div class="row pb-4 justify-content-center">
  <a class="btn uwa-btn d-flex align-items-center" href="{{ url_for('bookings.bay_next', direction=-1, bay_id=bay.id, day=start_date.day, month=start_date.month, year=start_date.year) }}">
    <span class="material-icons md-24">
      skip_previous
    </span>
    Prev
  </a>
  <h1 class="uwa-heading-large pr-5 pl-5">{{ start_date.strftime("%a %-d %b %y") }} &rarr; {{ end_date.strftime("%a %-d %b %y") }}</h1>
  <a class="btn uwa-btn d-flex align-items-center" href="{{ url_for('bookings.bay_next', direction=1, bay_id=bay.id, day=start_date.day, month=start_date.month, year=start_date.year) }}">    Next
    <span class="material-icons md-24">
      skip_next
    </span>
  </a>
</div>

<div class="table-responsive">
  <table class="table table-bordered timetable">
    <thead>
      <th>Date</th>
      {% for time in times %}
      <th>{{ time }}</th>
      {% endfor %}
    </thead>

    {% for date in availabilities %}
      {% set timeslots = availabilities[date] %}
      <tr>
        <td>
          {{ date.strftime("%-d %b") }}
        </td>

        {% for booked in timeslots %}
          {% if booked %}
          <td class="timeslot-red">
          </td>
          {% else %}
          <td class="timeslot-green">
          </td>
          {% endif %}
        {% endfor %}
      </tr>

    {% endfor %}
  </table>
</div>

{% endblock %}